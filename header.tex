\documentclass[
  bibliography=totoc,     % Literatur im Inhaltsverzeichnis
  captions=tableheading,  % Tabellenüberschriften
  titlepage=firstiscover, % Titelseite ist Deckblatt
]{scrartcl}

% Paket float verbessern
\usepackage{scrhack}

% Warnung, falls nochmal kompiliert werden muss
\usepackage[aux]{rerunfilecheck}

% unverzichtbare Mathe-Befehle
\usepackage{amsmath}
% viele Mathe-Symbole
\usepackage{amssymb}
% Erweiterungen für amsmath
\usepackage{mathtools}

% Fonteinstellungen
\usepackage{fontspec}
% Latin Modern Fonts werden automatisch geladen
% Alternativ zum Beispiel:
%\setromanfont{Libertinus Serif}
%\setsansfont{Libertinus Sans}
%\setmonofont{Libertinus Mono}

% Wenn man andere Schriftarten gesetzt hat,
% sollte man das Seiten-Layout neu berechnen lassen
\recalctypearea{}

% deutsche Spracheinstellungen
%\usepackage[ngerman]{babel}

% englische Spracheinstellungen
\usepackage[english]{babel}

\usepackage[
  math-style=ISO,    % ┐
  bold-style=ISO,    % │
  sans-style=italic, % │ ISO-Standard folgen
  nabla=upright,     % │
  partial=upright,   % │
  mathrm=sym,        % ┘
  warnings-off={           % ┐
    mathtools-colon,       % │ unnötige Warnungen ausschalten
    mathtools-overbracket, % │
  },                       % ┘
]{unicode-math}

% traditionelle Fonts für Mathematik
\setmathfont{Latin Modern Math}
% Alternativ zum Beispiel:
%\setmathfont{Libertinus Math}

\setmathfont{XITS Math}[range={scr, bfscr}]
\setmathfont{XITS Math}[range={cal, bfcal}, StylisticSet=1]

% Zahlen und Einheiten
\usepackage[
  %locale=DE,                   % deutsche Einstellungen
  locale=US,                   % englische Einstellungen
  separate-uncertainty=true,   % immer Unsicherheit mit \pm
  per-mode=symbol-or-fraction, % / in inline math, fraction in display math
  detect-all,               % Einheiten und Zahlen erkennen
]{siunitx}

% chemische Formeln
\usepackage[
  version=4,
  math-greek=default, % ┐ mit unicode-math zusammenarbeiten
  text-greek=default, % ┘
]{mhchem}

% richtige Anführungszeichen
\usepackage[english=american]{csquotes}

% schöne Brüche im Text
\usepackage{xfrac}

% Standardplatzierung für Floats einstellen
\usepackage{float}
\floatplacement{figure}{htbp}
\floatplacement{table}{htbp}

% Floats innerhalb einer Section halten
\usepackage[
  section, % Floats innerhalb der Section halten
  below,   % unterhalb der Section aber auf der selben Seite ist ok
]{placeins}

% Seite drehen für breite Tabellen: landscape Umgebung
\usepackage{pdflscape}

% Captions schöner machen.
\usepackage[
  labelfont=bf,        % Tabelle x: Abbildung y: ist jetzt fett
  font=small,          % Schrift etwas kleiner als Dokument
  width=0.9\textwidth, % maximale Breite einer Caption schmaler
]{caption}
% subfigure, subtable, subref
\usepackage{subcaption}

% Grafiken können eingebunden werden
\usepackage{graphicx}

% schöne Tabellen
\usepackage{tabularray}
\UseTblrLibrary{booktabs, siunitx}

\DefTblrTemplate{contfoot-text}{normal}{Continued on next page}
\SetTblrTemplate{contfoot-text}{normal}
\DefTblrTemplate{conthead-text}{normal}{(Continued)}
\SetTblrTemplate{conthead-text}{normal}

  %  \DefTblrTemplate{conthead-text}{default}{(Continued)}
  %  \DefTblrTemplate{contfoot-text}{default}{Continued on next page}

% Verbesserungen am Schriftbild
\usepackage{microtype}

% Literaturverzeichnis
\usepackage[
  backend=biber,
]{biblatex}
% Quellendatenbank
\addbibresource{lit.bib}
\addbibresource{programme.bib}

% Hyperlinks im Dokument
\usepackage[
  english,        % englische Sprache
  unicode,        % Unicode in PDF-Attributen erlauben
  pdfusetitle,    % Titel, Autoren und Datum als PDF-Attribute
  pdfcreator={},  % ┐ PDF-Attribute säubern
  pdfproducer={}, % ┘
]{hyperref}
% erweiterte Bookmarks im PDF
\usepackage{bookmark}

% Trennung von Wörtern mit Strichen
\usepackage[shortcuts]{extdash}

\author{%
  Akram Aki\\%
  \href{mailto:akram.aki@tu-dortmund.de}{akram.aki@tu-dortmund.de}%
  \and%
  Lukas Fiene\\%
  \href{mailto:lukas.fiene@tu-dortmund.de}{lukas.fiene@tu-dortmund.de}%
}
\publishers{TU Dortmund – Department of Physics}

%Pakete zum definieren neuer commands
\usepackage{expl3}
\usepackage{xparse}

%mit \I kann man nun i aufrecht schreiben
\ExplSyntaxOn
\NewDocumentCommand \I {} {
  \symup{i}
}
\ExplSyntaxOff

%mit \E kann man nun e aufrecht schreiben
\ExplSyntaxOn
\NewDocumentCommand \E {} {
  \symup{e}
}
\ExplSyntaxOff

%mit \dif{x} kann man das d vor dem x aufrecht schreiben
\ExplSyntaxOn
\NewDocumentCommand \dif {m} {
  \mathinner{\symup{d} #1}
}
\ExplSyntaxOff
%mit \v kann man nun Vektoren schreiben
\ExplSyntaxOn
\let\vaccent=\v              % alten Befehl kopieren
\RenewDocumentCommand \v {}  % Befehl überschreiben
{
  \TextOrMath{
    \vaccent                  %Textmodus
  }{
  \symbf                      %Mathe modus
  } 
}
\ExplSyntaxOff

%besserer Real- und Imaginärteil
\AtBeginDocument{ % wird bei \begin{document} ausgeführt
  % werden sonst wieder von unicode-math überschrieben
  \RenewDocumentCommand \Re {} {\operatorname{Re}}
  \RenewDocumentCommand \Im {} {\operatorname{Im}}
}


%richtiges Spacing für klammern links und rechts
\usepackage{mleftright}

%mit \l und \r werden links und rechts die richtigen Abstaende bei den Klammern zum bsp. sinus gesetzt
\ExplSyntaxOn
\let\ltext=\l
\RenewDocumentCommand \l {}
{
  \TextOrMath{ \ltext }{ \mleft }
}
\let\raccent=\r
\RenewDocumentCommand \r {}
{
  \TextOrMath{ \raccent }{ \mright }
}
\ExplSyntaxOff

%mit \abs* wachsen Betragsstriche mit
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
%Braket
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\DeclarePairedDelimiterX\braket[2]{\langle}{\rangle}{#1\,\delimsize\vert\,\mathopen{}#2}

%definierendes gleich
\newcommand{\defeq}{\vcentcolon=}
\newcommand{\eqdef}{=\vcentcolon}

%fuer mitwachsende klammern
\setlength{\delimitershortfall}{-1sp}

%deutsche long-table Umgebung
% \DefTblrTemplate{contfoot-text}{normal}{Weiter auf der nächsten Seite}
% \SetTblrTemplate{contfoot-text}{normal}
% \DefTblrTemplate{conthead-text}{normal}{(Fortsetzung)}
% \SetTblrTemplate{conthead-text}{normal}

%zum Zeichnen mit TikZ
%\RequirePackage{luatex85}
%\documentclass[margin=5pt]{standalone}
%\usepackage{tikz}
%\usepackage[
%  europeanresistors, % follow DIN
%  americaninductors, % foolow DIN, funny, isn't it?
%  siunitx,
%]{circuitikz}

\setlength{\parindent}{0pt} % no indent for paragraphs

\usepackage{wrapfig}